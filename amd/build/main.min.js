define ("block_enrol_student/main",["exports","core/ajax","core/templates","jquery","core/loadingicon","core/modal_factory","block_enrol_student/handlers"],function(a,b,c,d,e,f,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.removeLoader=a.addLoader=a.loadUserPagination=a.loadUserModal=a.getEnrolmentBlockData=a.init=a._courseId=a._lang=a._page=a._perPageCount=void 0;b=h(b);c=h(c);d=h(d);e=h(e);f=h(f);g=h(g);function h(a){return a&&a.__esModule?a:{default:a}}var i=25;a._perPageCount=i;var j=0;a._page=j;a._lang=[];var k=null;a._courseId=k;var l=function(b,c){a._courseId=k=b;a._perPageCount=i=c;m(0,p());(0,d.default)(".enrol-student-container").on("click","#user_id",function(a){return n(a)});(0,d.default)(".student-block-pagination").on("click","ul.pagination li>a",function(a){return o(a)})};a.init=l;var m=function(a,e){b.default.call([{methodname:"block_enrol_student_enrol_student_data",args:{courseid:k,perpage:i,page:a},done:function done(a){if(0<a.data.length){c.default.renderForPromise("block_enrol_student/table/users",{users:a.data}).then(function(b){var e=b.html,f=b.js;c.default.replaceNodeContents(".enrol-student-container>tbody",e,f);if(""!==a.pagination){(0,d.default)(".student-block-pagination").html(a.pagination)}else{(0,d.default)("student-block-pagination").html("")}}).catch()}q(e)},fail:function fail(){}}])};a.getEnrolmentBlockData=m;var n=function(a){a.preventDefault();var b=(0,d.default)(a.target).is("a")?(0,d.default)("#user_id").data("id"):(0,d.default)(a.target).closest("a").data("id"),c=(0,d.default)(a.target).is("a")?(0,d.default)("#user_id").data("firstname"):(0,d.default)(a.target).closest("a").data("firstname"),e=(0,d.default)(a.target).is("a")?(0,d.default)("#user_id").data("lastname"):(0,d.default)(a.target).closest("a").data("lastname"),g=(0,d.default)(a.target).is("a")?(0,d.default)("#user_id").data("fullname"):(0,d.default)(a.target).closest("a").data("fullname");f.default.create({title:"Student Information",body:"       <table>\n            <tr>\n                <th>ID</th>\n                <th>FIRST NAME</th>\n                <th>LAST NAME</th>\n                <th>FULL NAME</th>\n            </tr>\n            <tbody>\n\n            <tr>\n                <td>"+b+"</td>\n                <td>"+c+"</td>\n                <td>"+e+"</td>\n                <td>"+g+"</td>\n\n            </tr>\n\n            </tbody>\n        </table>"}).done(function(a){a.show()})};a.loadUserModal=n;var o=function(b){b.preventDefault();var c=(0,d.default)(b.target).is("a")?(0,d.default)(b.target).attr("href"):(0,d.default)(b.target).closest("a").attr("href");a._page=j=g.default.getParameterByName("page",c);m(j,p())};a.loadUserPagination=o;var p=function(){(0,d.default)(".enrol-student-container").addClass("loading");return e.default.addIconToContainerWithPromise((0,d.default)(".enrol-student-container"))};a.addLoader=p;var q=function(a){(0,d.default)(".loading-icon").remove();a.resolve();(0,d.default)(".enrol-student-container").removeClass("loading")};a.removeLoader=q});
//# sourceMappingURL=main.min.js.map
